# i18n Test - Internationalization
# Verifies language switching between English and Hindi

appId: ${MAESTRO_APP_ID}
name: i18n Test
tags:
  - i18n
  - core
---

# Launch fresh app
- launchApp:
    clearState: true

# Wait for app to load in English (default)
- extendedWaitUntil:
    visible: "Universal MFE - Mobile"
    timeout: 10000

# Verify English text
- assertVisible: "Welcome"
- assertVisible: "Home"
- assertVisible: "Settings"

# === Switch to Hindi via header toggle ===

# Tap language toggle (shows current language)
- tapOn: ".*English.*"

# Wait for language change
- extendedWaitUntil:
    visible: "स्वागत है"
    timeout: 5000

# Verify Hindi text
- assertVisible: "स्वागत है"

# Verify navigation in Hindi
- assertVisible: "होम"
- assertVisible: "सेटिंग्स"

# === Switch back to English via Settings ===

# Navigate to Settings (in Hindi)
- tapOn: "सेटिंग्स"

- extendedWaitUntil:
    visible: "थीम"
    timeout: 5000

# Tap English option
- tapOn: "English"

# Wait for language change
- extendedWaitUntil:
    visible: "Theme"
    timeout: 5000

# Verify English text
- assertVisible: "Theme"
- assertVisible: "Language"

# Navigate to Home
- tapOn:
    text: "Home"
    index: 0

# Verify Home page in English
- extendedWaitUntil:
    visible: "Welcome"
    timeout: 5000

# === Test language persistence across navigation ===

# Switch to Hindi
- tapOn: ".*English.*"

- extendedWaitUntil:
    visible: "स्वागत है"
    timeout: 5000

# Navigate to Remote Module page
- tapOn: "रिमोट मॉड्यूल"

- extendedWaitUntil:
    visible: ".*लोड करें.*"
    timeout: 5000

# Navigate to Settings
- tapOn: "सेटिंग्स"

- extendedWaitUntil:
    visible: "थीम"
    timeout: 5000

# Navigate back to Home
- tapOn:
    text: "होम"
    index: 0

# Verify still in Hindi
- extendedWaitUntil:
    visible: "स्वागत है"
    timeout: 5000
